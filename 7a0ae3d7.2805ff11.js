(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{174:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return a})),t.d(n,"metadata",(function(){return c})),t.d(n,"rightToc",(function(){return l})),t.d(n,"default",(function(){return s}));var o=t(2),r=t(11),i=(t(0),t(201)),a={title:"Keep Controller in Component"},c={id:"keep-controller-in-component",title:"Keep Controller in Component",description:"Avoid creating a separate file for component controllers.",source:"@site/docs/keep-controller-in-component.md",permalink:"/docs/keep-controller-in-component",sidebar:"docs",previous:{title:"Break Out Composite Components",permalink:"/docs/break-out-composites"},next:{title:"Component Hosting View",permalink:"/docs/component-hosting-view"}},l=[],p={rightToc:l};function s(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(o.a)({},p,t,{components:n,mdxType:"MDXLayout"}),Object(i.b)("p",null,"Avoid creating a separate file for component controllers."),Object(i.b)("pre",null,Object(i.b)("code",Object(o.a)({parentName:"pre"},{className:"language-objectivec"}),'@implementation BoldToggleComponent\n\n+ (instancetype)newWithString:(NSString *)string\n{\n  CKComponentScope scope(self);\n  UIFont *const font = ([scope.state() boolValue] ?\n                        [UIFont boldSystemFontOfSize:12.0] :\n                        [UIFont systemFontOfSize:12.0]);\n  return [super newWithComponent:\n          [CKLabelComponent\n           newWithLabelAttributes:{\n             .string = string,\n             .font = font,\n           }\n           viewAttributes:{}\n           size:{}]];\n}\n\n+ (id)initialState\n{\n  return @NO;\n}\n\n@end\n\n@implementation BoldToggleComponentController\n\n- (void)didMount\n{\n  [[NSNotificationCenter defaultCenter] addObserver:self\n                                           selector:@selector(updateState:)\n                                               name:@"toggleBold"\n                                             object:nil];\n}\n\n- (void)willUnmount\n{\n  [[NSNotificationCenter defaultCenter] removeObserver:self\n                                                  name:@"toggleBold"\n                                                object:nil];\n}\n\n- (void)updateState:(NSNotification *)notification\n{\n  [self.component updateState:^(id oldState){\n    return @(![oldState boolValue]);\n  } mode:CKUpdateModeAsynchronous];\n}\n\n@end\n')),Object(i.b)("p",null,"Imagine that the component and controller were in separate in the above\nexample.  Then, it wouldn't be obvious why the state is necessary just by\nlooking at the component file, since there are no calls to ",Object(i.b)("inlineCode",{parentName:"p"},"updateState")," in the\ncomponent file."),Object(i.b)("p",null,"It may be tempting to split the component controller into its own file in order\nto make the file less than 300 lines, but we think it's worse to have the\ncomponent controller in its own file."))}s.isMDXComponent=!0},201:function(e,n,t){"use strict";t.d(n,"a",(function(){return u})),t.d(n,"b",(function(){return d}));var o=t(0),r=t.n(o);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,o,r=function(e,n){if(null==e)return{};var t,o,r={},i=Object.keys(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)t=i[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var p=r.a.createContext({}),s=function(e){var n=r.a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):c({},n,{},e)),t},u=function(e){var n=s(e.components);return r.a.createElement(p.Provider,{value:n},e.children)},m={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},f=Object(o.forwardRef)((function(e,n){var t=e.components,o=e.mdxType,i=e.originalType,a=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=s(t),f=o,d=u["".concat(a,".").concat(f)]||u[f]||m[f]||i;return t?r.a.createElement(d,c({ref:n},p,{components:t})):r.a.createElement(d,c({ref:n},p))}));function d(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var i=t.length,a=new Array(i);a[0]=f;var c={};for(var l in n)hasOwnProperty.call(n,l)&&(c[l]=n[l]);c.originalType=e,c.mdxType="string"==typeof e?e:o,a[1]=c;for(var p=2;p<i;p++)a[p]=t[p];return r.a.createElement.apply(null,a)}return r.a.createElement.apply(null,t)}f.displayName="MDXCreateElement"}}]);