<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.56">
<link rel="search" type="application/opensearchdescription+xml" title="ComponentKit" href="/opensearch.xml"><title data-react-helmet="true">Why not SwiftUI? | ComponentKit</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Why not SwiftUI? | ComponentKit"><meta data-react-helmet="true" name="description" content="No doubt since its release you’ve come across some lovely code samples, or even had the luxury to experiment with SwiftUI: Apple’s new Swift only declarative framework to build user interfaces."><meta data-react-helmet="true" property="og:description" content="No doubt since its release you’ve come across some lovely code samples, or even had the luxury to experiment with SwiftUI: Apple’s new Swift only declarative framework to build user interfaces."><meta data-react-helmet="true" property="og:url" content="https://componentkit.org/docs/ckswift-why-not-swiftui"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://componentkit.org/docs/ckswift-why-not-swiftui"><link rel="stylesheet" href="/styles.2c8823ce.css">
<link rel="preload" href="/styles.cb6806eb.js" as="script">
<link rel="preload" href="/runtime~main.89fe7516.js" as="script">
<link rel="preload" href="/main.8d7b40b2.js" as="script">
<link rel="preload" href="/1.d3147932.js" as="script">
<link rel="preload" href="/2.7e22d1dc.js" as="script">
<link rel="preload" href="/1be78505.8bc3a340.js" as="script">
<link rel="preload" href="/76.0c9751c0.js" as="script">
<link rel="preload" href="/20ac7829.71c801c2.js" as="script">
<link rel="preload" href="/24fe5bc9.7d19a63f.js" as="script">
</head>
<body>
<div style="display: none; text-align: center; background-color: white; color: black;" id="internaldocs-banner"></div>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/ck_logo.png" alt="ComponentKit Logo"><strong class="navbar__title">ComponentKit</strong></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/getting-started">Docs</a><a class="navbar__item navbar__link" href="/docs/infrastructure/component-hosting-view">Infrastructure</a><a href="https://www.componentkit.org/appledoc/html/index.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API</a><a href="https://github.com/facebook/componentkit" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><div class="searchWrapper_-F3-"><span aria-label="expand searchbar" role="button" class="searchIconButton_1Dnz" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_2eto"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/ck_logo.png" alt="ComponentKit Logo"><strong class="navbar__title">ComponentKit</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/infrastructure/component-hosting-view">Infrastructure</a></li><li class="menu__list-item"><a href="https://www.componentkit.org/appledoc/html/index.html" target="_blank" rel="noopener noreferrer" class="menu__link">API</a></li><li class="menu__list-item"><a href="https://github.com/facebook/componentkit" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><main class="docMainContainer_FFX1"><div class="container padding-vert--lg docItemWrapper_1cc7"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Why not SwiftUI?</h1></header><div class="markdown"><p>No doubt since its release you’ve come across some lovely code samples, or even had the luxury to experiment with SwiftUI: Apple’s new Swift only declarative framework to build user interfaces.</p><p>Besides the different choice of language, SwiftUI and ComponentKit have a very common goal borrowed from React: simplify UI code through a declarative API. You can read more about the benefits in our previous article Why ComponentKit.</p><p>We are very excited about SwiftUI. Such an initiative originating from Apple validates what the company has been preaching for over the past 6 years on iOS. Even if Wilde could never adopt and benefit from Apple’s first-party solution, the industry switch to a declarative paradigm will have ramifications on FACEBOOK as more and more n00bs will join with first-hand experience of using a declarative UI framework. Last but not least, ComponentKit having been a source of inspiration for SwiftUI - it’s now our turn to analyse, learn and get inspired from their work. We welcome competition.</p><p>In 2020 we’ve spent a decent amount of time assessing the feasibility of SwiftUI in Wilde and concluded that whilst we hope in the mid-long term SwiftUI will eventually become the primary framework to build new UI at Facebook, it&#x27;s not feasible right now with the main reasons being:</p><ul><li>Deployment version: SwiftUI’s first iteration requires an iOS13 min deployment target. Wilde just deprecated iOS 10 support in October so that would be at best 2 years down the line.</li><li>Maturity: Browsing the web is sufficient to realise that SwiftUI (specifically in its initial release) doesn’t have CK’s maturity. It, as any new framework, has its own sets of quirks and bugs which quickly becomes a deal breaker when working at our scale. Realistically SwiftUI V2 released this year is more promising on this front - but unless Apple decides to finally release support libraries for previous OS versions, this further delays our min deployment target to iOS 14, 3 years down the line.</li><li>Performance: SwiftUI is very promising on that front as it leverages core features of the language (such as stack allocated value types for its Views and a richer type system for diffing between tree generations). However, given its current implementation it is very unlikely to surpass CK on deep surfaces like News Feed as it still performs build, diffing and layout on the main thread where we’re able to offload these on a background queue, in most cases.</li></ul><p>It’s worth noting that even though adopting SwiftUI as our main UI framework in Wilde will take some time, some parts of the app will inevitable be exposed to it earlier such as widgets given that these are only available on iOS 14+ and require to be built with SwiftUI.</p><p>Finally, even if hypothetically all the above mentioned points were to be resolved sooner than anticipated, the reality is that we’ve got more than 8000 existing components in Wilde. Whilst a new surface could be built with SwiftUI, a Swift compatible solution for ComponentKit would still be necessary to provide the benefits of Swift to a large proportion of FB engineers.</p><p>We’ve thus opted for the following plan:</p><ol><li>Build a transitive, idiomatic Swift compatible layer on top of ComponentKit not just unblocking Swift across the existing codebase but also providing a first-class Swift experience to UI engineers.</li><li>Closely keep an eye on and assess SwiftUI as it keeps evolving (performance, reliability, feature set), with the aim to eventually also make it our framework of choice.</li></ol></div></article><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div class="margin-bottom--sm"><img class="footer__logo" alt="Facebook Open Source Logo" src="https://docusaurus.io/img/oss_logo.png"></div><div>Copyright © 2020 Facebook, Inc.</div></div></div></footer></div>
<script src="/styles.cb6806eb.js"></script>
<script src="/runtime~main.89fe7516.js"></script>
<script src="/main.8d7b40b2.js"></script>
<script src="/1.d3147932.js"></script>
<script src="/2.7e22d1dc.js"></script>
<script src="/1be78505.8bc3a340.js"></script>
<script src="/76.0c9751c0.js"></script>
<script src="/20ac7829.71c801c2.js"></script>
<script src="/24fe5bc9.7d19a63f.js"></script>
</body>
</html>